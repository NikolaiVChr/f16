<?xml version="1.0"?>

<PropertyList>

	<path>cdu.ac</path>


    <animation>
        <object-name>cdu_canvas</object-name>
        <type>material</type>
        <condition>
            <greater-than-equals>
                <property>f16/avionics/power-ufc-warm</property>
                <value>0.90</value>
            </greater-than-equals>
        </condition>
        <emission>
            <factor-prop>fdm/jsbsim/elec/bus/emergency-ac-2</factor-prop>
            <red>  0.00714</red>
            <green>0.00714</green>
            <blue> 0.00714</blue>
        </emission>
    </animation>

    <!--animation>
      <type>pick</type>
       <object-name>b22</object-name>
       <action>
        <button>0</button>
        <repeatable>false</repeatable>
        <interval-sec>0.2</interval-sec>
        <binding>
              <command>nasal</command>
              <script>
                var hmd = modules.Module.new("f16_CDU"); # Module name
                hmd.setDebug(0); # 0=(mostly) silent; 1=print setlistener and maketimer calls to console; 2=print also each listener hit, be very careful with this!
                hmd.setFilePath(getprop("/sim/aircraft-dir")~"/Nasal/CDU");
                hmd.setMainFile("cdu.nas");
                hmd.load();
              </script>
         </binding>
       </action>
       <hovered>
                <binding>
                    <command>set-tooltip</command>
                    <tooltip-id>a</tooltip-id>
                    <label>LOAD</label>
                </binding>
            </hovered>
     </animation-->

     <!--animation>
      <type>pick</type>
       <object-name>b26</object-name>
       <action>
        <button>0</button>
        <repeatable>false</repeatable>
        <interval-sec>0.2</interval-sec>
        <binding>
                    <command>nasal-module-reload</command>
                    <module>f16_CDU</module>
                </binding>
        
       </action>
       <hovered>
                <binding>
                    <command>set-tooltip</command>
                    <tooltip-id>b</tooltip-id>
                    <label>RELOAD</label>
                </binding>
            </hovered>
     </animation-->

     

     <!-- HDG knob -->
 <animation>
        <type>knob</type>
        <object-name>HSI_hdg-knob</object-name>
        <property>instrumentation/heading-indicator/heading-bug-deg</property>
        <factor>1</factor>
        <offset-deg>0</offset-deg>
        <interval-sec>0.075</interval-sec>
        <center>
            <x-m>0.114414</x-m>
            <y-m>-0.009793</y-m>
            <z-m>0</z-m>
        </center>
        <axis>
            <x>0</x>
            <y>0</y>
            <z>-1</z>
        </axis>        
        <increase>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/heading-indicator/heading-bug-deg</property>
                <step>1</step>
                <min>0</min>
                <max>360</max>
                <wrap>true</wrap>
           </binding>
        </increase>
        <decrease>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/heading-indicator/heading-bug-deg</property>
                <step>-1</step>
                <min>0</min>
                <max>360</max>                
                <wrap>true</wrap>
           </binding>
        </decrease>
        <!--hovered>
            <binding>
                <command>set-tooltip</command>
                <tooltip-id>ehsi-hdg</tooltip-id>
                <mapping>heading</mapping>
                <label>Heading Bug: %3d</label>
                <property>instrumentation/heading-indicator/heading-bug-deg</property>
            </binding>
        </hovered-->
    </animation>


  <!-- COURSE Knob --> 
 <animation>
        <type>knob</type>
        <object-name>HSI_course-knob</object-name>
        <property>instrumentation/nav[0]/radials/selected-deg-knob</property>
        <factor>1</factor>
        <offset-deg>0</offset-deg>
        <interval-sec>0.075</interval-sec>
        <center>
            <x-m>0.114414</x-m>
            <y-m>0.021017</y-m>
            <z-m>0</z-m>
        </center>
        <axis>
            <x>0</x>
            <y>0</y>
            <z>-1</z>
        </axis>        
        <increase>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/nav[0]/radials/selected-deg</property>
                <step>1</step>
                <min>0</min>
                <max>360</max>
                <wrap>true</wrap>
           </binding>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/nav[0]/radials/selected-deg-knob</property>
                <step>1</step>
                <min>0</min>
                <max>360</max>
                <wrap>true</wrap>
           </binding>
        </increase>
        <decrease>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/nav[0]/radials/selected-deg</property>
                <step>-1</step>
                <min>0</min>
                <max>360</max>
                <wrap>true</wrap>
           </binding>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/nav[0]/radials/selected-deg-knob</property>
                <step>-1</step>
                <min>0</min>
                <max>360</max>
                <wrap>true</wrap>
           </binding>
        </decrease>
        <!--hovered>
            <binding>
                <command>set-tooltip</command>
                <tooltip-id>ehsi-hdg</tooltip-id>
                <mapping>heading</mapping>
                <label>Course: %3d</label>
                <property>instrumentation/nav[0]/radials/selected-deg</property>
            </binding>
        </hovered-->
    </animation>

    <animation>
        <type>knob</type>
        <object-name>fuel-knob</object-name>
        <property>controls/fuel/qty-selector</property>
        <factor>45</factor>
        <offset-deg>-30</offset-deg>
        <interval-sec>0.15</interval-sec>
        <center>
         <x-m>0.127027</x-m>
         <y-m>0.051596</y-m>
         <z-m>0</z-m>
        </center>
        <axis>
         <x>0</x>
         <y>0</y>
         <z>-1</z>
        </axis>  
        <increase>
            <binding>
                <command>property-adjust</command>
                <property>controls/fuel/qty-selector</property>
                <step>1</step>
                <min>0</min>
                <max>5</max>
                <wrap>false</wrap>
           </binding>
        </increase>
        <decrease>
            <binding>
                <command>property-adjust</command>
                <property>controls/fuel/qty-selector</property>
                <step>-1</step>
                <min>0</min>
                <max>5</max>
                <wrap>false</wrap>
           </binding>
        </decrease>
        <!--hovered>
            <binding>
                <command>set-tooltip</command>
                <tooltip-id>fqs</tooltip-id>
                <label>FUEL QTY SEL</label>
            </binding>
        </hovered-->
    </animation>

    <animation>
        <type>knob</type>
        <object-name>inhg-knob</object-name>
        <property>instrumentation/altimeter/setting-inhg</property>
        <factor>-180</factor>
        <offset-deg>0</offset-deg>
        <interval-sec>0.2</interval-sec>
        <center>
            <x-m> 0.114414 </x-m>
            <y-m> -0.035966 </y-m>
            <z-m> 0 </z-m>
        </center>
        <axis>
            <x> 0.0 </x>
            <y> 0.0 </y>
            <z> 1.0 </z>
        </axis>
        <increase>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/altimeter/setting-inhg</property>
                <factor>1</factor>
                <step>0.005</step>
                <min>26</min>
                <max>33</max>
                <wrap>false</wrap>
            </binding>
        </increase>
        <decrease>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/altimeter/setting-inhg</property>
                <factor>1</factor>
                <step>-0.005</step>
                <min>26</min>
                <max>33</max>
                <wrap>false</wrap>
            </binding>
        </decrease>
    </animation>

<animation>
  <type>pick</type>
   <object-name>button</object-name>
   <action>
    <button>0</button>
    <repeatable>false</repeatable>
    <interval-sec>0.2</interval-sec>
    <binding>
          <command>property-adjust</command>
          <property>sim/model/f16/controls/navigation/instrument-mode-panel/mode/rotary-switch-knob</property>
          <step>1</step>
          <min>0</min>
          <max>5</max>
          <wrap>true</wrap>
     </binding>
    <!--<mod-up>
    </mod-up>-->
   </action>
   <hovered>
            <binding>
                <command>set-tooltip</command>
                <tooltip-id>ehsiMode</tooltip-id>
                <label>Navigation Mode</label>
            </binding>
        </hovered>
 </animation>

 <animation>
      <type>pick</type>
       <object-name>b01</object-name>
       <action>
        <button>0</button>
        <repeatable>false</repeatable>
        <interval-sec>0.2</interval-sec>
        <binding>
              <command>nasal</command>
              <script>
                f16_CDU.CDU.buttonPress(1);
              </script>
         </binding>
        <!--<mod-up>
        </mod-up>-->
       </action>
       <hovered>
                <binding>
                    <command>set-tooltip</command>
                    <tooltip-id>c</tooltip-id>
                    <label>RANGE INCREASE</label>
                </binding>
            </hovered>
     </animation>

     <animation>
      <type>pick</type>
       <object-name>b02</object-name>
       <action>
        <button>0</button>
        <repeatable>false</repeatable>
        <interval-sec>0.2</interval-sec>
        <binding>
              <command>nasal</command>
              <script>
                f16_CDU.CDU.buttonPress(2);
              </script>
         </binding>
        <!--<mod-up>
        </mod-up>-->
       </action>
       <hovered>
                <binding>
                    <command>set-tooltip</command>
                    <tooltip-id>d</tooltip-id>
                    <label>RANGE DECREASE</label>
                </binding>
            </hovered>
     </animation>

     <animation>
      <type>pick</type>
       <object-name>b16</object-name>
       <action>
        <button>0</button>
        <repeatable>false</repeatable>
        <interval-sec>0.2</interval-sec>
        <binding>
              <command>nasal</command>
              <script>
                f16_CDU.CDU.buttonPress(16);
              </script>
         </binding>
        <!--<mod-up>
        </mod-up>-->
       </action>
       <hovered>
                <binding>
                    <command>set-tooltip</command>
                    <tooltip-id>g</tooltip-id>
                    <label>GRID</label>
                </binding>
            </hovered>
     </animation>

     <animation>
      <type>pick</type>
       <object-name>b08</object-name>
       <action>
        <button>0</button>
        <repeatable>false</repeatable>
        <interval-sec>0.2</interval-sec>
        <binding>
              <command>nasal</command>
              <script>
                f16_CDU.CDU.buttonPress(8);
              </script>
         </binding>
        <!--<mod-up>
        </mod-up>-->
       </action>
       <hovered>
                <binding>
                    <command>set-tooltip</command>
                    <tooltip-id>e</tooltip-id>
                    <label>DAY / NIGHT</label>
                </binding>
            </hovered>
     </animation>

     <animation>
      <type>pick</type>
       <object-name>b23</object-name>
       <action>
        <button>0</button>
        <repeatable>false</repeatable>
        <interval-sec>0.2</interval-sec>
        <binding>
                    <command>nasal</command>
              <script>
                f16_CDU.CDU.buttonPress(23);
              </script>
                </binding>
        <!--<mod-up>
        </mod-up>-->
       </action>
       <hovered>
                <binding>
                    <command>set-tooltip</command>
                    <tooltip-id>h</tooltip-id>
                    <label>TOGGLE INSTR</label>
                </binding>
            </hovered>
     </animation>

     <animation>
      <type>pick</type>
       <object-name>b25</object-name>
       <action>
        <button>0</button>
        <repeatable>false</repeatable>
        <interval-sec>0.2</interval-sec>
        <binding>
                    <command>nasal</command>
              <script>
                f16_CDU.CDU.buttonPress(25);
              </script>
                </binding>
       </action>
       <!--hovered>
            <binding>
                <command>set-tooltip</command>
                <tooltip-id>i</tooltip-id>
                <label>TOGGLE EHSI</label>
            </binding>
        </hovered-->
     </animation>

     <animation>
      <type>pick</type>
       <object-name>b24</object-name>
       <action>
        <button>0</button>
        <repeatable>false</repeatable>
        <interval-sec>0.2</interval-sec>
        <binding>
                    <command>nasal</command>
              <script>
                f16_CDU.CDU.buttonPress(24);
              </script>
                </binding>
       </action>
       <hovered>
                <binding>
                    <command>set-tooltip</command>
                    <tooltip-id>i</tooltip-id>
                    <label>TOGGLE MAP</label>
                </binding>
            </hovered>
     </animation>

     <animation>
      <type>pick</type>
       <object-name>Cube.025</object-name>
       <action>
        <button>0</button>
        <repeatable>false</repeatable>
        <interval-sec>0.2</interval-sec>
        <binding>
              <command>nasal</command>
              <script>
                f16_CDU.initCDU();
              </script>
         </binding>
        <!--<mod-up>
        </mod-up>-->
       </action>
       <hovered>
                <binding>
                    <command>set-tooltip</command>
                    <tooltip-id>f</tooltip-id>
                    <label>START LOOP</label>
                </binding>
            </hovered>
     </animation>

     <effect>
        <inherits-from>Aircraft/f16/Models/Effects/f16panel-left</inherits-from>
        <parameters>
            <implicit-lightmap-enabled type="int">1</implicit-lightmap-enabled>
        </parameters>
        <object-name>Mount</object-name>
        <object-name>HSI_course-knob</object-name>
        <object-name>HSI_hdg-knob</object-name>
        <object-name>fuel-knob</object-name>
        <object-name>inhg-knob</object-name>
        <object-name>button</object-name>
    </effect>
    <effect>
        <inherits-from>Aircraft/f16/Models/Effects/f16panel-left</inherits-from>
        <parameters>
            <implicit-lightmap-enabled type="int">1</implicit-lightmap-enabled>
        </parameters>
        <object-name>b01</object-name>
        <object-name>b02</object-name>
        <object-name>b03</object-name>
        <object-name>b04</object-name>
        <object-name>b05</object-name>
        <object-name>b06</object-name>
        <object-name>b07</object-name>
        <object-name>b08</object-name>
        <object-name>b09</object-name>
        <object-name>b10</object-name>
        <object-name>b11</object-name>
        <object-name>b12</object-name>
        <object-name>b13</object-name>
        <object-name>b14</object-name>
        <object-name>b15</object-name>
        <object-name>b16</object-name>
        <object-name>b17</object-name>
        <object-name>b18</object-name>
        <object-name>b19</object-name>
        <object-name>b20</object-name>
        <object-name>b21</object-name>
        <object-name>b22</object-name>
        <object-name>b23</object-name>
        <object-name>b24</object-name>
        <object-name>b25</object-name>
        <object-name>b26</object-name>
    </effect>
    <effect>
        <inherits-from>Aircraft/f16/Models/Effects/displays/lcd</inherits-from>
        <parameters>
            <inner-angle type="float">45</inner-angle>
            <outer-angle type="float">60</outer-angle>
            <black-angle type="float">80</black-angle>
            <contrast>1</contrast> 
            <texture n="1">
                <type>2d</type>
                <filter>linear-mipmap-linear</filter>
                <wrap-s>clamp</wrap-s>
                <wrap-t>clamp</wrap-t>
                <internal-format>normalized</internal-format>
                <image>Aircraft/f16/Models/Effects/dust3.png</image>
            </texture>
            <dirt-factor>0.05</dirt-factor>
        </parameters>
        <object-name>cdu_canvas</object-name>
    </effect>

    <animation>
        <object-name>beacon</object-name>
        <type>material</type>
        <condition>
            <or>
                <property>instrumentation/marker-beacon/outer</property>
                <property>instrumentation/marker-beacon/inner</property>
                <property>instrumentation/marker-beacon/middle</property>
                <property>controls/test/test-panel/mal-ind-lts</property>
            </or>
        </condition>
        <emission>
            <red>  0</red>
            <green>1</green>
            <blue> 0</blue>
        </emission>
    </animation>
    
</PropertyList>
